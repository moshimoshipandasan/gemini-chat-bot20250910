# ミニマルチャットボット - セットアップガイド

## 📋 ファイル構成
- `minimal-index.html` - シンプルなチャットUI
- `minimal-コード.js` - バックエンド処理（200行以下）
- CSS - HTMLに埋め込み（30行）

## 🚀 デプロイ手順

### 1. Google Apps Scriptプロジェクトの作成
1. [Google Apps Script](https://script.google.com)にアクセス
2. 「新しいプロジェクト」をクリック
3. プロジェクト名を「ミニマルチャットボット」に変更

### 2. ファイルの配置
1. `コード.gs`を`minimal-コード.js`の内容で置き換え
2. ファイル → 新規 → HTMLで`minimal-index`を作成
3. `minimal-index.html`の内容をコピー

### 3. Gemini API キーの設定
1. [Google AI Studio](https://makersuite.google.com/app/apikey)でAPIキーを取得
2. GASエディタで：プロジェクトの設定 → スクリプトプロパティ
3. プロパティを追加：
   - プロパティ名: `GEMINI_API_KEY`
   - 値: 取得したAPIキー

### 4. スプレッドシートの準備
1. 新しいGoogleスプレッドシートを作成
2. GASエディタから「setup()」関数を実行
   - プロンプトシート（A1セルにシステムプロンプト）
   - ログシート（自動作成）

### 5. Webアプリとしてデプロイ
1. デプロイ → 新しいデプロイ
2. 種類：ウェブアプリ
3. 設定：
   - 実行ユーザー: 自分
   - アクセス: 全員（匿名可）
4. デプロイをクリック

## ⚙️ 機能仕様

### コア機能
✅ Gemini APIチャット
✅ ユーザーID別会話管理（localStorage）
✅ 6時間キャッシュ
✅ スプレッドシートログ
✅ プロンプトA1セル参照
✅ 会話クリア機能
✅ エラー表示

### シンプル化された点
❌ テーマ機能なし
❌ 設定管理なし
❌ モバイル最適化なし
❌ アニメーションなし
❌ 複雑なUIなし

## 📊 技術仕様

### パフォーマンス
- コード量: 200行以下
- CSS: 30行
- 初回ロード: < 1秒
- API応答: 2-5秒

### 制限事項
- 同時ユーザー: GAS制限に準拠
- 会話履歴: 最大10往復
- キャッシュ: 6時間保持

## 🔧 カスタマイズ

### システムプロンプト変更
スプレッドシートの「プロンプト」シートA1セルを編集

### デザイン調整
`minimal-index.html`内のCSSを編集

### API設定変更
`minimal-コード.js`のCONFIG定数を編集

## ❓ トラブルシューティング

### APIキーエラー
→ スクリプトプロパティにGEMINI_API_KEYが設定されているか確認

### ログが記録されない
→ スプレッドシートの「ログ」シートが存在するか確認

### 応答が遅い
→ Gemini APIの応答時間、GASの実行時間制限を確認